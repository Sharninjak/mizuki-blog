---
// 原模板about.astro，已重命名为template.astro
import { getEntry, render } from "astro:content";
import Markdown from "@components/misc/Markdown.astro";
import I18nKey from "../i18n/i18nKey";
import { i18n } from "../i18n/translation";
import MainGridLayout from "../layouts/MainGridLayout.astro";

const templatePost = await getEntry("spec", "template");

if (!templatePost) {
	throw new Error("Template page content not found");
}

const { Content } = await render(templatePost as any);
const title = i18n(I18nKey.template);
---
<MainGridLayout title={title}>
	<script>
		import("../scripts/right-sidebar-layout.js");
	</script>
	<div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
		<div class="card-base z-10 px-9 py-6 relative w-full">
			<div class="flex flex-col items-start justify-center mb-8">
				<h1 class="text-4xl font-bold text-black/90 dark:text-white/90 mb-2 relative
					before:w-1 before:h-8 before:rounded-md before:bg-[var(--primary)]
					before:absolute before:top-1/2 before:-translate-y-1/2 before:-left-4">
					{title}
				</h1>
			</div>

			<Markdown class="mt-2">
				<Content />
			</Markdown>
		</div>
	</div>
</MainGridLayout>
